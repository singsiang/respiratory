<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="å°ˆæ¥­ç´šå¯†ç¢¼ç”Ÿæˆå™¨ - ä½¿ç”¨åŠ å¯†ç­‰ç´šéš¨æ©Ÿæ•¸ç”Ÿæˆå¼·å¯†ç¢¼ï¼Œå®Œå…¨é›¢ç·šé‹ä½œä¿è­·éš±ç§">
    <meta name="keywords" content="å¯†ç¢¼ç”Ÿæˆå™¨,éš¨æ©Ÿå¯†ç¢¼,å®‰å…¨å¯†ç¢¼,password generator">
    <meta name="author" content="Midnight Security">
    
    <!-- Open Graph / ç¤¾ç¾¤åˆ†äº« -->
    <meta property="og:title" content="Midnight Security - å°ˆæ¥­å¯†ç¢¼ç”Ÿæˆå™¨">
    <meta property="og:description" content="åŠ å¯†ç­‰ç´šéš¨æ©Ÿæ•¸ç”Ÿæˆå™¨ï¼Œå®Œå…¨é›¢ç·šé‹ä½œ">
    <meta property="og:type" content="website">
    
    <!-- CSP å®‰å…¨æ”¿ç­– -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com;">
    
    <title>åˆå¤œå®‰å…¨ | å°ˆæ¥­å¯†ç¢¼ç”Ÿæˆå™¨</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+TC:wght@400;700&display=swap');

        body {
            background-color: #0f172a;
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            color: #f8fafc;
        }

        .cyber-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(51, 65, 85, 0.5);
        }

        .glow-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            box-shadow: 0 0 15px rgba(37, 99, 235, 0.4);
            transition: all 0.3s ease;
        }

        .glow-btn:hover {
            box-shadow: 0 0 25px rgba(37, 99, 235, 0.6);
            transform: translateY(-1px);
        }

        .glow-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quick-len-btn {
            background: #334155;
            border: 1px solid #475569;
            transition: all 0.2s;
        }

        .quick-len-btn.active {
            background: #3b82f6;
            border-color: #60a5fa;
            color: white;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }

        .advice-card {
            border-top: 4px solid;
            transition: transform 0.2s;
        }
        
        .advice-card:hover {
            transform: translateY(-5px);
        }

        .password-row {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(51, 65, 85, 0.5);
            transition: all 0.2s;
        }

        .password-row:hover {
            border-color: #3b82f6;
            background: rgba(30, 41, 59, 0.8);
        }
        
        .char-sample {
            font-size: 9px;
            color: #64748b;
            word-break: break-all;
            display: block;
            margin-top: 2px;
            line-height: 1.2;
        }

        .strength-meter {
            height: 4px;
            border-radius: 2px;
            transition: all 0.3s;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <div class="max-w-6xl mx-auto">
        <!-- æ¨™é¡Œå€åŸŸ -->
        <header class="mb-8 text-center">
            <h1 class="text-3xl md:text-5xl font-extrabold tracking-tight mb-3 text-white">
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-500">MIDNIGHT</span> SECURITY
            </h1>
            <p class="text-slate-400 text-sm tracking-widest uppercase">Encryption Grade Randomness</p>
            <p class="text-slate-600 text-xs mt-2">v2.0 | å®Œå…¨é›¢ç·šé‹ä½œ | é›¶è³‡æ–™å¤–å‚³</p>
        </header>

        <!-- ç”Ÿæˆå™¨ä¸»å€åŸŸ -->
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-16">
            
            <!-- å·¦å´ï¼šè¨­å®šé¢æ¿ -->
            <div class="lg:col-span-5 space-y-6">
                <div class="cyber-card rounded-3xl p-6 md:p-8">
                    <h2 class="text-lg font-bold mb-6 flex items-center">
                        <span class="w-1.5 h-6 bg-blue-500 rounded-full mr-3"></span> å¯†ç¢¼åƒæ•¸
                    </h2>

                    <div class="space-y-6">
                        <!-- é•·åº¦é¸æ“‡ -->
                        <div>
                            <div class="flex justify-between items-center mb-4">
                                <label class="text-slate-400 text-xs font-bold uppercase tracking-widest">é•·åº¦è¨­å®š</label>
                                <span id="lenDisplay" class="text-3xl font-mono font-bold text-blue-400">16</span>
                            </div>
                            <input type="range" id="lenRange" min="12" max="64" value="16" class="w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer mb-6 accent-blue-500">
                            
                            <div class="grid grid-cols-3 gap-2">
                                <button type="button" class="quick-len-btn py-2 rounded-xl text-[10px] font-bold text-slate-300" data-val="12">12ä½</button>
                                <button type="button" class="quick-len-btn active py-2 rounded-xl text-[10px] font-bold" data-val="16">æ¨è–¦(16)</button>
                                <button type="button" class="quick-len-btn py-2 rounded-xl text-[10px] font-bold text-slate-300" data-val="24">é«˜å¼·åº¦(24)</button>
                            </div>
                        </div>

                        <!-- å­—å…ƒé¸é …èˆ‡ç¯„ä¾‹ -->
                        <div class="space-y-4">
                            <label class="flex items-start p-3 rounded-2xl bg-slate-800/50 border border-slate-700 cursor-pointer hover:border-blue-500 transition-all group">
                                <input type="checkbox" id="cNum" checked class="mt-1 w-4 h-4 rounded text-blue-500 border-slate-600 bg-slate-700">
                                <div class="ml-3">
                                    <span class="text-xs font-bold text-slate-300 group-hover:text-white">åŒ…å«æ•¸å­—</span>
                                    <span class="char-sample">( 1234567890 )</span>
                                </div>
                            </label>
                            <label class="flex items-start p-3 rounded-2xl bg-slate-800/50 border border-slate-700 cursor-pointer hover:border-blue-500 transition-all group">
                                <input type="checkbox" id="cLow" checked class="mt-1 w-4 h-4 rounded text-blue-500 border-slate-600 bg-slate-700">
                                <div class="ml-3">
                                    <span class="text-xs font-bold text-slate-300 group-hover:text-white">åŒ…å«å°å¯«å­—æ¯</span>
                                    <span class="char-sample">( abcdefghijklmnopqrstuvwxyz )</span>
                                </div>
                            </label>
                            <label class="flex items-start p-3 rounded-2xl bg-slate-800/50 border border-slate-700 cursor-pointer hover:border-blue-500 transition-all group">
                                <input type="checkbox" id="cUp" checked class="mt-1 w-4 h-4 rounded text-blue-500 border-slate-600 bg-slate-700">
                                <div class="ml-3">
                                    <span class="text-xs font-bold text-slate-300 group-hover:text-white">åŒ…å«å¤§å¯«å­—æ¯</span>
                                    <span class="char-sample">( ABCDEFGHIJKLMNOPQRSTUVWXYZ )</span>
                                </div>
                            </label>
                            <label class="flex items-start p-3 rounded-2xl bg-slate-800/50 border border-slate-700 cursor-pointer hover:border-blue-500 transition-all group">
                                <input type="checkbox" id="cSym" checked class="mt-1 w-4 h-4 rounded text-blue-500 border-slate-600 bg-slate-700">
                                <div class="ml-3">
                                    <span class="text-xs font-bold text-slate-300 group-hover:text-white">åŒ…å«ç‰¹æ®Šç¬¦è™Ÿ</span>
                                    <span class="char-sample">( ~!@#$%^&*()_+-=[]{}|;:,.<>? )</span>
                                </div>
                            </label>
                        </div>

                        <button id="genBtn" class="glow-btn w-full py-4 rounded-2xl text-white font-bold tracking-widest active:scale-95 transition-transform uppercase text-sm">
                            Generate Security Key
                        </button>
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šç”Ÿæˆçµæœ -->
            <div class="lg:col-span-7">
                <div class="cyber-card rounded-3xl overflow-hidden flex flex-col min-h-[560px]">
                    <div class="p-6 border-b border-slate-700/50 flex justify-between items-center bg-slate-800/30">
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest">ç”¢ç”ŸçµæœéšŠåˆ—</h3>
                        <span class="text-[9px] bg-indigo-500/20 text-indigo-400 border border-indigo-500/30 px-2 py-1 rounded">é»æ“Šå…§å®¹è‡ªå‹•è¤‡è£½</span>
                    </div>
                    <div id="results" class="p-4 md:p-6 space-y-3 flex-1 overflow-y-auto">
                        <div class="flex flex-col items-center justify-center h-full text-slate-600 py-20 text-center">
                            <svg class="h-12 w-12 mb-4 opacity-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
                            <p class="text-xs italic tracking-widest opacity-40">ç³»çµ±å°±ç·’ï¼Œç­‰å¾…æŒ‡ä»¤...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æˆ°ç•¥å®‰å…¨å»ºè­°å€åŸŸ -->
        <h2 class="text-xl font-black mb-8 text-center text-slate-500 tracking-[0.2em] uppercase">
            Security Strategy Guidelines
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            
            <!-- LV.1 -->
            <div class="advice-card bg-slate-800/40 p-6 rounded-3xl border-slate-500 shadow-lg">
                <div class="flex items-center justify-between mb-4">
                    <span class="bg-blue-500/10 text-blue-400 text-[9px] font-bold px-2 py-1 rounded">LV.1 ä¸€èˆ¬ç¶²ç«™</span>
                </div>
                <ul class="text-[11px] text-slate-300 space-y-3 leading-relaxed">
                    <li><strong class="text-blue-400">é•·åº¦ï¼š</strong> è‡³å°‘ 12 ç¢¼éš¨æ©Ÿï¼Œæˆ– 3â€“4 å€‹ç„¡é—œå–®å­—çµ„æˆ (<span class="text-slate-500">â‰¥ 16 ç¢¼</span>)ã€‚</li>
                    <li><strong class="text-blue-400">å­—å…ƒï¼š</strong> å¤§å°å¯« + æ•¸å­— + ç¬¦è™Ÿã€‚</li>
                    <li><strong class="text-blue-400">è¦ç¯„ï¼š</strong> æ¯å€‹ç¶²ç«™ç”¨ä¸åŒå¯†ç¢¼ã€‚</li>
                    <li><strong class="text-blue-400">å·¥å…·ï¼š</strong> ç”¨ Bitwarden, 1Password æˆ– KeePass ç®¡ç†ã€‚</li>
                </ul>
            </div>

            <!-- LV.2 -->
            <div class="advice-card bg-indigo-900/30 p-6 rounded-3xl border-indigo-500 shadow-xl">
                <div class="flex items-center justify-between mb-4">
                    <span class="bg-indigo-500/20 text-indigo-300 text-[9px] font-bold px-2 py-1 rounded">LV.2 é‡è¦å€‹äººå¸³è™Ÿ</span>
                </div>
                <ul class="text-[11px] text-slate-300 space-y-3 leading-relaxed">
                    <li><strong class="text-indigo-400">é•·åº¦ï¼š</strong> 16 ç¢¼ä»¥ä¸Šéš¨æ©Ÿï¼Œæˆ– 20+ å­—å…ƒçŸ­èªã€‚</li>
                    <li><strong class="text-indigo-400">æ ¸å¿ƒï¼š</strong> å‹™å¿…é–‹å•Ÿ **å¤šå› ç´ é©—è­‰ (MFA / 2FA)**ã€‚</li>
                    <li><strong class="text-indigo-400">æ¨è–¦ï¼š</strong> TOTP App (Authy) æˆ– **Passkey**ã€‚</li>
                    <li><strong class="text-rose-400 underline">è­¦å‘Šï¼š</strong> é¿å…åƒ…ä¾è³´ç°¡è¨Š OTPã€‚</li>
                </ul>
            </div>

            <!-- LV.3 -->
            <div class="advice-card bg-rose-900/20 p-6 rounded-3xl border-rose-500 shadow-2xl">
                <div class="flex items-center justify-between mb-4">
                    <span class="bg-rose-500/20 text-rose-400 text-[9px] font-bold px-2 py-1 rounded">LV.3 é«˜æ•æ„Ÿç”¨é€”</span>
                </div>
                <ul class="text-[11px] text-slate-300 space-y-3 leading-relaxed">
                    <li><strong class="text-rose-500">é•·åº¦ï¼š</strong> è‡³å°‘ 16â€“20 ç¢¼éš¨æ©Ÿå¯†ç¢¼ã€‚</li>
                    <li><strong class="text-rose-500">é‡‘é‘°ï¼š</strong> å¿…å‚™ **ç¡¬é«”é‡‘é‘° (FIDO2, YubiKey)**ã€‚</li>
                    <li><strong class="text-rose-500">é˜²ç¦¦ï¼š</strong> æ­é…ç™»å…¥å®‰å…¨é™åˆ¶ (IP é™åˆ¶ã€é–å®š)ã€‚</li>
                    <li><strong class="text-rose-500">æ¨è–¦ï¼š</strong> å„ªå…ˆæ¡ç”¨ **Passkey** é¿å…é‡£é­šé¢¨éšª (åŸŸåç¶å®š)ã€‚</li>
                </ul>
            </div>

        </div>

        <!-- æŠ€è¡“èªªæ˜ -->
        <div class="cyber-card rounded-2xl p-6 mb-8 text-xs text-slate-400 leading-relaxed">
            <h3 class="text-sm font-bold text-slate-300 mb-3 flex items-center">
                <svg class="h-4 w-4 mr-2 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
                å®‰å…¨ç‰¹æ€§èªªæ˜
            </h3>
            <ul class="space-y-2 ml-6">
                <li>âœ… ä½¿ç”¨ <code class="text-blue-400">crypto.getRandomValues()</code> åŠ å¯†ç­‰ç´šéš¨æ©Ÿæ•¸ç”Ÿæˆå™¨ (CSPRNG)</li>
                <li>âœ… ä¿®æ­£æ¨¡æ•¸åå·® (Modulo Bias)ï¼Œç¢ºä¿æ¯å€‹å­—å…ƒå‡ºç¾æ©Ÿç‡å®Œå…¨ç›¸ç­‰</li>
                <li>âœ… å®Œå…¨å®¢æˆ¶ç«¯é‹ç®—ï¼Œæ‰€æœ‰å¯†ç¢¼åƒ…å­˜åœ¨æ–¼æ‚¨çš„ç€è¦½å™¨è¨˜æ†¶é«”ä¸­</li>
                <li>âœ… é›¶è³‡æ–™å‚³è¼¸ï¼Œç„¡ä»»ä½•ç¶²è·¯è«‹æ±‚æˆ– Cookie è¿½è¹¤</li>
                <li>âœ… é–‹æºé€æ˜ï¼Œå¯æ–¼ GitHub æª¢è¦–å®Œæ•´åŸå§‹ç¢¼</li>
            </ul>
        </div>

        <footer class="text-center text-slate-600 text-[9px] pb-10 tracking-[0.3em] uppercase space-y-2">
            <p>Data stays local â€¢ AES-Grade Entropy â€¢ Zero Knowledge</p>
            <p class="text-slate-700">
                <a href="https://github.com/yourusername/midnight-security" target="_blank" class="hover:text-blue-400 transition-colors">View on GitHub</a>
            </p>
        </footer>
    </div>

    <!-- è¤‡è£½æˆåŠŸæç¤º -->
    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-blue-600 text-white px-8 py-3 rounded-full shadow-2xl opacity-0 transition-all transform translate-y-4 z-50 flex items-center space-x-2">
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
        <span class="text-xs font-bold font-sans" id="toastText">COPIED TO CLIPBOARD</span>
    </div>

    <script>
        // å…¨åŸŸè®Šæ•¸
        const lenRange = document.getElementById('lenRange');
        const lenDisplay = document.getElementById('lenDisplay');
        const results = document.getElementById('results');
        const genBtn = document.getElementById('genBtn');
        const toast = document.getElementById('toast');
        const toastText = document.getElementById('toastText');

        // é•·åº¦åŒæ­¥é‚è¼¯
        function updateLen(val) {
            lenRange.value = val;
            lenDisplay.textContent = val;
            updateQuickBtnState(val);
        }

        function updateQuickBtnState(val) {
            document.querySelectorAll('.quick-len-btn').forEach(btn => {
                btn.classList.toggle('active', parseInt(btn.dataset.val) === parseInt(val));
            });
        }

        lenRange.addEventListener('input', () => {
            lenDisplay.textContent = lenRange.value;
            updateQuickBtnState(lenRange.value);
        });

        // å¿«é€Ÿé•·åº¦æŒ‰éˆ•äº‹ä»¶
        document.querySelectorAll('.quick-len-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                updateLen(parseInt(btn.dataset.val));
            });
        });

        // ç¾ä»£åŒ–è¤‡è£½åŠŸèƒ½ï¼ˆå« fallbackï¼‰
        async function copyToClipboard(text) {
            try {
                if (navigator.clipboard && window.isSecureContext) {
                    await navigator.clipboard.writeText(text);
                    showToast('COPIED TO CLIPBOARD');
                } else {
                    // Fallback æ–¹æ³•
                    const el = document.createElement('textarea');
                    el.value = text;
                    el.style.position = 'fixed';
                    el.style.left = '-9999px';
                    document.body.appendChild(el);
                    el.select();
                    document.execCommand('copy');
                    document.body.removeChild(el);
                    showToast('COPIED TO CLIPBOARD');
                }
            } catch (err) {
                console.error('è¤‡è£½å¤±æ•—:', err);
                showToast('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•é¸å–', true);
            }
        }

        function showToast(message, isError = false) {
            toastText.textContent = message;
            if (isError) {
                toast.classList.add('bg-red-600');
                toast.classList.remove('bg-blue-600');
            } else {
                toast.classList.add('bg-blue-600');
                toast.classList.remove('bg-red-600');
            }
            
            toast.classList.remove('opacity-0', 'translate-y-4');
            toast.classList.add('opacity-100', 'translate-y-0');
            
            setTimeout(() => {
                toast.classList.add('opacity-0', 'translate-y-4');
                toast.classList.remove('opacity-100', 'translate-y-0');
            }, 2000);
        }

        // å­—å…ƒé¡å‹é©—è­‰
        function validatePassword(pass, requirements) {
            if (requirements.hasNum && !/d/.test(pass)) return false;
            if (requirements.hasLower && !/[a-z]/.test(pass)) return false;
            if (requirements.hasUpper && !/[A-Z]/.test(pass)) return false;
            if (requirements.hasSymbol && !/[~!@#$%^&*()_+-=[]{}|;:,.<>?]/.test(pass)) return false;
            return true;
        }

        // æ ¸å¿ƒç”Ÿæˆé‚è¼¯ï¼ˆä¿®æ­£æ¨¡æ•¸åå·®ï¼‰
        function generateSecurePassword(length, pool, requirements) {
            const MAX_ATTEMPTS = 100;
            let attempts = 0;
            
            while (attempts < MAX_ATTEMPTS) {
                let password = '';
                const limit = Math.floor(0x100000000 / pool.length) * pool.length;
                const randomValues = new Uint32Array(length * 2);
                window.crypto.getRandomValues(randomValues);
                
                let idx = 0;
                for (let i = 0; i < length; i++) {
                    let randomValue = randomValues[idx++];
                    
                    // æ‹’çµ•æŠ½æ¨£ï¼šé¿å…æ¨¡æ•¸åå·®
                    while (randomValue >= limit) {
                        if (idx >= randomValues.length) {
                            const moreRandom = new Uint32Array(length);
                            window.crypto.getRandomValues(moreRandom);
                            Array.from(moreRandom).forEach((val, i) => {
                                if (idx + i < randomValues.length) {
                                    randomValues[idx + i] = val;
                                }
                            });
                        }
                        randomValue = randomValues[idx++];
                    }
                    
                    password += pool.charAt(randomValue % pool.length);
                }
                
                // é©—è­‰æ˜¯å¦åŒ…å«æ‰€æœ‰å¿…è¦çš„å­—å…ƒé¡å‹
                if (validatePassword(password, requirements)) {
                    return password;
                }
                
                attempts++;
            }
            
            // å¦‚æœè¶…éå˜—è©¦æ¬¡æ•¸ï¼Œå›å‚³æœªé©—è­‰çš„å¯†ç¢¼ï¼ˆç†è«–ä¸Šä¸æ‡‰ç™¼ç”Ÿï¼‰
            console.warn('è¶…éæœ€å¤§å˜—è©¦æ¬¡æ•¸ï¼Œå›å‚³æœªå®Œå…¨é©—è­‰çš„å¯†ç¢¼');
            let password = '';
            const randomValues = new Uint32Array(length);
            window.crypto.getRandomValues(randomValues);
            for (let i = 0; i < length; i++) {
                password += pool.charAt(randomValues[i] % pool.length);
            }
            return password;
        }

        // ç”Ÿæˆå¯†ç¢¼
        function generate() {
            try {
                const len = parseInt(lenRange.value);
                const chars = {
                    n: '1234567890',
                    l: 'abcdefghijklmnopqrstuvwxyz',
                    u: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
                    s: '~!@#$%^&*()_+-=[]{}|;:,.<>?'
                };

                // å»ºç«‹å­—å…ƒæ± èˆ‡éœ€æ±‚è¿½è¹¤
                let pool = '';
                const requirements = {
                    hasNum: document.getElementById('cNum').checked,
                    hasLower: document.getElementById('cLow').checked,
                    hasUpper: document.getElementById('cUp').checked,
                    hasSymbol: document.getElementById('cSym').checked
                };

                if (requirements.hasNum) pool += chars.n;
                if (requirements.hasLower) pool += chars.l;
                if (requirements.hasUpper) pool += chars.u;
                if (requirements.hasSymbol) pool += chars.s;

                if (!pool) {
                    results.innerHTML = '';
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'text-rose-400 font-bold p-8 text-center bg-rose-500/10 rounded-2xl text-xs';
                    errorDiv.textContent = 'âš ï¸ è«‹é¸æ“‡è‡³å°‘ä¸€å€‹å­—å…ƒé¡å‹';
                    results.appendChild(errorDiv);
                    return;
                }

                // æ¸…ç©ºçµæœå€
                results.innerHTML = '';
                
                // ç”Ÿæˆ 5 çµ„å¯†ç¢¼
                for (let i = 0; i < 5; i++) {
                    const password = generateSecurePassword(len, pool, requirements);
                    
                    const row = document.createElement('div');
                    row.className = "password-row p-4 rounded-2xl cursor-pointer flex justify-between items-center group active:scale-[0.98] transition-transform";
                    
                    const passSpan = document.createElement('span');
                    passSpan.className = "font-mono text-white text-xs md:text-sm break-all tracking-wider font-bold";
                    passSpan.textContent = password;
                    
                    const icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                    icon.setAttribute('class', 'h-4 w-4 text-slate-500 group-hover:text-blue-400 shrink-0');
                    icon.setAttribute('fill', 'none');
                    icon.setAttribute('viewBox', '0 0 24 24');
                    icon.setAttribute('stroke', 'currentColor');
                    icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2" />';
                    
                    row.appendChild(passSpan);
                    row.appendChild(icon);
                    
                    row.addEventListener('click', () => copyToClipboard(password));
                    
                    results.appendChild(row);
                }
            } catch (error) {
                console.error('ç”Ÿæˆå¯†ç¢¼æ™‚ç™¼ç”ŸéŒ¯èª¤:', error);
                showToast('ç”Ÿæˆå¤±æ•—ï¼Œè«‹é‡è©¦', true);
            }
        }

        // æŒ‰éˆ•äº‹ä»¶ç¶å®š
        genBtn.addEventListener('click', generate);

        // éµç›¤å¿«æ·éµ (Enter ç”Ÿæˆ)
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey && !e.ctrlKey && !e.altKey) {
                e.preventDefault();
                generate();
            }
        });

        // é é¢è¼‰å…¥å®Œæˆæç¤º
        window.addEventListener('load', () => {
            console.log('%cğŸ” Midnight Security v2.0', 'color: #3b82f6; font-size: 16px; font-weight: bold;');
            console.log('%câœ… å®‰å…¨ç‰¹æ€§ï¼šCSPRNG + æ¨¡æ•¸åå·®ä¿®æ­£ + å®Œå…¨é›¢ç·š', 'color: #10b981; font-size: 12px;');
            console.log('%cğŸ“– GitHub: https://github.com/yourusername/midnight-security', 'color: #6366f1; font-size: 12px;');
        });
    </script>
</body>
</html>
